#!/usr/bin/env python
from argumentos import args
from main import EVENTOS, PARTES, formato_tiempo
from midiutil import MIDIFile


# Ploteo
if args.plotear:
  import ploteo

"""
 Salida MIDI
"""
nombre_archivo = args.output
#pistas_cantidad = Pista.cantidad 
pistas_cantidad = len( PARTES ) 
midi_tracks = MIDIFile( pistas_cantidad ) 
for m in EVENTOS:
    mu = getattr( midi_tracks, m[0] )( *m[1:] )
with open( nombre_archivo + ".mid", "wb" ) as archivo_midi:
   midi_tracks.writeFile( archivo_midi )


"""
TO DO:
    [ ] YAML validation 
    [ ] Revisar diferentes tempos en diferentes traks
"""
